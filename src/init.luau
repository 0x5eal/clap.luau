local clap = require("clap")

local Command = clap.Command
local Opt = clap.Opt

Command.new("test_cli", true)
	:about("description")
	:version("0.1.0")
	:subcommandRequired(true)
	:optRequiredElseHelp(true)
	:opt(Opt.new("isReal", true):type("bool"):handle(function(val: string)
		print("In isReal")
		print("Got: ", val)
	end))
	:opt(Opt.new("testing", true):about("knock knock?"):type("string"):handle(function(val: string)
		print("In testing")
		print("Got: ", val)
	end))
	:opt(Opt.new("grahhh", false):about("really cool option"):type("string"):handle(function(val: string)
		print("In grahhh")
		print("Got: ", val)
	end))
	:afterHelp("You saw the help menu before me ^^")
	:author("Me <me@self.com>")
	:subcommand(Command.new("test"):about("some command!"):onRun(function(args)
		print("Got args: ", args)
	end))
	:subcommand(Command.new("test2"):about("some other command!"):onRun(function(args, opts)
		print("Got args: ", args, opts)
	end):opt(Opt.new("balls", true)))
	:run()
